<!DOCTYPE html>
<html>

<head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel=”stylesheet“ type="text/css" href="文件路径"/>-->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script> or <script data-main="../../js/script/main.js" src="../../js/lib/require.js"></script>-->
    <script>
        var a = 99; // 全局变量a
        f(); // f是函数，虽然定义在调用的后面，但是函数声明会提升到作用域的顶部。 
        console.log(a); // a=>99,  此时是全局变量的a
        function f() {
            console.log(a); // 当前的a变量是下面变量a声明提升后，默认值undefined
            //声明提升 在 当前作用域内 包括变量和函数在内的所有声明都会在任何代码被执行前首先被处理。
            //注意这里是“声明”会被提前处理，赋值并没有， 定义声明是在编译阶段进行的，而赋值是在执行阶段进行的 。也就是说 声明提升了，赋值还留着原地，等待执行

            var a = 10;
            console.log(a); // a => 10
        }


        {
            var b = 9;
        }
        console.log(b); // 9

        //        {
        //            let c = 9; // i变量只在 花括号内有效！！！
        //        }
        //        console.log(c); // Uncaught ReferenceError: i is not defined


        for (var j = 0; j < 10; j++) {
            setTimeout(function() { // 同步注册回调函数到 异步的 宏任务队列。
                console.log(j); // 执行此代码时，同步代码for循环已经执行完成,输出 10个10
            }, 0);
        }


        // i虽然在全局作用域声明，但是在for循环体局部作用域中使用的时候，变量会被固定，不受外界干扰。
        for (let i = 0; i < 10; i++) {
            setTimeout(function() { //setTimeout 延迟的毫秒数 (一秒等于1000毫秒)，函数的调用会在该延迟之后发生。如果省略该参数，delay取默认值0，意味着“马上”执行，或者尽快执行
                console.log(i); //  i 是循环体内局部作用域，不受外界影响。
            }, 0);
        }
        // 输出结果：
        //0  1  2  3  4  5  6  7  8 9



        //  用let声明的变量，不存在变量提升。而且要求必须 等let声明语句执行完之后，变量才能使用，不然会报Uncaught ReferenceError错误。
        //        console.log(aicoder);    // 错误：Uncaught ReferenceError ...
        //let aicoder = 'aicoder.com';
        //// 这里就可以安全使用aicoder


        //let变量不能重复声明
        //let不允许在相同作用域内，重复声明同一个变量。否则报错：Uncaught SyntaxError: Identifier 'XXX' has already been declared
        //
        //例如：
        //
        //let a = 0;
        //let a = 'sss';
        //// Uncaught SyntaxError: Identifier 'a' has already been declared


        function afterWinLoad() {
            document.querySelector('#btn1').addEventListener('click', function() {
                console.info("test");
            });
        }
        window.onload = afterWinLoad; //如果代码放入body的后面，可以不这么做
    </script>
    <style></style>
</head>

<body>
    <div>
        <button id="btn1">run</button>
    </div>
</body>

</html>